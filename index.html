<!doctype html>
<html lang="en">

<head>
    <title>Shamrock Hangman</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main class="game-container">
        <div class="game-content">
            <h1 class="game-title">Shamrock Hangman</h1>

            <div id="difficultySelection" class="difficulty-section">
                <h3>Select Your Challenge Level</h3>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn btn btn-success" onclick="startGame('easy')">Easy</button>
                    <button class="difficulty-btn btn btn-warning" onclick="startGame('medium')">Medium</button>
                    <button class="difficulty-btn btn btn-danger" onclick="startGame('hard')">Hard</button>
                </div>
            </div>

            <div id="difficultyBox" class="difficulty-display d-none"></div>

            <div id="gameArea" class="game-area d-none">
                <div class="container">
                    <div class="row justify-content-center align-items-center">
                        <div class="col-12 col-md-6 col-lg-5 mb-4 mb-md-0">
                            <div class="shamrock-section">
                                <img src="img/health6.png" alt="Health" id="shamrock" class="shamrock-image">
                            </div>
                        </div>
                        <div class="col-12 col-md-6 col-lg-5">
                            <div class="game-section">
                                <h2 id="wordDisplay" class="word-display">_ _ _ _ _</h2>

                                <div class="guess-input">
                                    <input type="text" id="letterInput" maxlength="1" class="letter-input" placeholder="Enter a Letter">
                                    <button id="guessBtn" class="guess-button" onclick="guessLetter()">Guess</button>
                                </div>

                                <div id="wrongLetters" class="wrong-letters">Wrong Guesses: </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="gameMessage" class="game-message d-none"></div>

                <div id="wordGraveyard" class="word-graveyard d-none">
                    <h3>Word Graveyard</h3>
                    <div id="wordList" class="word-list"></div>
                </div>

                <div class="restart-section">
                    <button id="restartBtn" class="restart-button" onclick="restartGame()">Restart Game</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title">Game Settings</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <h6>Rain Effect</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="rainEnabled">
                            <label class="form-check-label" for="rainEnabled">Enable Rain</label>
                        </div>
                        <label for="rainDensity" class="form-label">Rain Density</label>
                        <input type="range" class="form-range" id="rainDensity" min="50" max="300" step="10">
                    </div>
                    <div class="mb-3">
                        <h6>Sound Effects</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="soundEnabled">
                            <label class="form-check-label" for="soundEnabled">Enable Sounds</label>
                        </div>
                        <label for="soundVolume" class="form-label">Volume</label>
                        <input type="range" class="form-range" id="soundVolume" min="0" max="100" step="1">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="settings-btn" data-bs-toggle="modal" data-bs-target="#settingsModal">
        <svg width="24" height="24" viewBox="0 0 24 24">
            <path fill="currentColor"
                d="M10.3 4.4c.8-.1 1.6-.1 2.4 0l1.2 2.9 2.7-1.2c.7.5 1.3 1 1.7 1.7l-1.2 2.7 2.9 1.2c.1.8.1 1.6 0 2.4l-2.9 1.2 1.2 2.7c-.5.7-1 1.3-1.7 1.7l-2.7-1.2-1.2 2.9c-.8.1-1.6.1-2.4 0l-1.2-2.9-2.7 1.2c-.7-.5-1.3-1-1.7-1.7l1.2-2.7-2.9-1.2c-.1-.8-.1-1.6 0-2.4l2.9-1.2-1.2-2.7c.5-.7 1-1.3 1.7-1.7l2.7 1.2 1.2-2.9z" />
        </svg>
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="config.js"></script>
    <script src="canvas_utils.js"></script>
    <script src="rain_effect.js"></script>
    <script type="module" src="js/main.js"></script>
    <script>
        // Ensure startGame is available globally
        window.startGame = async (level) => {
            if (window.gameModule) {
                await window.gameModule.startGame(level);
            }
        };
    </script>
    <script>
        window.addEventListener('load', initRain);
    </script>
</body>

</html>