<!doctype html>
<html lang="en">

<head>
    <title>Shamrock Hangman</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <main class="container text-center">
        <h1 class="mb-4">Shamrock Hangman</h1>

        <div id="difficultySelection"> <!--REMOVE THIS d-none-->
            <h3>Select Difficulty</h3>
            <button class="btn btn-success difficulty-btn" onclick="startGame('easy')">Easy</button>
            <button class="btn btn-warning difficulty-btn" onclick="startGame('medium')">Medium</button>
            <button class="btn btn-danger difficulty-btn" onclick="startGame('hard')">Hard</button>
        </div>

        <div id="difficultyBox" class="mt-3 p-3 fw-bold d-none"></div>

        <div id="gameArea" class="mt-4 d-none">
            <h2 id="wordDisplay" class="mb-3">_ _ _ _ _</h2>

            <div class="mb-3">
                <input type="text" id="letterInput" maxlength="1" class="form-control d-inline-block w-auto"
                    placeholder="Enter a Letter">
                <button id="guessBtn" class="btn btn-warning" onclick="guessLetter()">Guess</button>
            </div>

            <p id="wrongLetters" class="fw-bold text-danger">Wrong Guesses: </p>

            <img src="img/image6.jpg" alt="" id="shamrock" class="shamrock-img">

            <div class="mt-4">
                <button id="restartBtn" class="btn btn-danger" onclick="restartGame()">Restart Game</button>
            </div>

        </div>
    </main>
    <footer>
        <!-- place footer here -->
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
    <script>
        // Word List
        const wordList = [
            "gold",
            "luck",
            "clover",
            "rain",
            "charm",
            "parade",
            "leprechaun",
            "treasure",
            "celebration",
            "greenery",
            "shenanigans",
            "tradition",
        ];

        //decare variables
        let selectedWord = "";
        let displayedWord = "";
        let wrongGuesses = 0;
        let guessedLetters = [];
        const maxMistakes = 6;

        // Start Game Function (runs everything)
        function startGame(level) {
            //reset game
            wrongGuesses = 0;
            guessedLetters = [];

            selectedWord = getRandomWord(level);
            displayedWord = "_".repeat(selectedWord.length);

            updateDifficultyDisplay(level);
            updateUI();

            //Show Game Area/Difficulty Display , hide selection buttons
            document.getElementById("gameArea").classList.remove("d-none");
            document.getElementById("gameArea").classList.add("d-block");

            document.getElementById("difficultyBox").classList.remove("d-none");
            document.getElementById("difficultyBox").classList.add("d-block");

            document.getElementById("difficultySelection").classList.add("d-none");

            // auto focus on input
            document.getElementById("letterInput").focus();
        }

        function getRandomWord(level) {
            let filteredWords = wordList.filter((word) => {
                if (level === "easy") return word.length <= 4;
                if (level === "medium") return word.length >= 5 && word.length <= 7;
                if (level === "hard") return word.length >= 8;
            });
            return filteredWords[Math.floor(Math.random() * filteredWords.length)];
        }

        //update Difficulty Display
        function updateDifficultyDisplay(level) {
            let difficultyBox = document.getElementById("difficultyBox");
            difficultyBox.classList.remove("easy", "medium", "hard");

            if (level === "easy") {
                difficultyBox.textContent = "Difficulty: Easy üçÄ";
                difficultyBox.classList.add("easy");
            } else if (level === "medium") {
                difficultyBox.textContent = "Difficulty: Medium üåü";
                difficultyBox.classList.add("medium");
            } else if (level === "hard") {
                difficultyBox.textContent = "Difficulty: Hard üíÄ";
                difficultyBox.classList.add("hard");
            }
        }

        //update UI
        function updateUI() {
            // Update displayed word with spaces between letters
            document.getElementById("wordDisplay").textContent = displayedWord.split("").join(" ");
        }

        //guess letter
        function guessLetter(letter) {
            const letterInput = document.getElementById("letterInput");
            const guessedLetter = letterInput.value.toLowerCase();

            // Check if the input is valid
            if (guessedLetter.length !== 1 || !guessedLetter.match(/[a-z]/i) || guessedLetters.includes(guessedLetter)) {
                alert("Please enter a valid letter that you haven't guessed before.");
                letterInput.value = "";
                return;
            }

            // Add guessed letter to the list of guessed letters
            guessedLetters.push(guessedLetter);
            letterInput.value = "";

            // Check if the guessed letter is in the selected word
            if (selectedWord.includes(guessedLetter)) {
                updateCorrectGuess(guessedLetter);
            } else {
                updateWrongGuess(guessedLetter);
            }
        }

        //update wrong guess
        function updateWrongGuess(guessedLetter) {
            wrongGuesses++;
            document.getElementById("wrongLetters").textContent += `${guessedLetter} `;

            // Update shamrock image dp 6 and subtract it by wrong guesses
            // document.getElementById("shamrock").src = `img/shamrock${6 - wrongGuesses}.jpg`;

            // if wrong guesses equal to max mistakes call function endGame
            if (wrongGuesses === maxMistakes) {
                endGame(false);
            }
        }

        //update correct guess
        function updateCorrectGuess(guessedLetter) {
            // Update displayed word with the guessed letter
            let newDisplayedWord = "";
            for (let i = 0; i < selectedWord.length; i++) {
                if (selectedWord[i] === guessedLetter) {
                    newDisplayedWord += guessedLetter;
                } else {
                    newDisplayedWord += displayedWord[i];
                }
            }
            displayedWord = newDisplayedWord;

            // Update UI
            updateUI();

            // Check if the player has won
            if (!displayedWord.includes("_")) {
                endGame(true);
            }
        }

        //restart game
        function restartGame() {
            document.getElementById("gameArea").classList.add("d-none");
            document.getElementById("difficultySelection").classList.remove("d-none");
        }

        // End Game Function
        function endGame(isWin) {
            if (isWin) {
                alert("Congratulations! You've guessed the word: " + selectedWord);
            } else {
                alert("Game Over! The word was: " + selectedWord);
            }

            // Show restart button
            document.getElementById("restartBtn").classList.remove("d-none");
        }






    </script>

    <!-- <script src="script.js"></script> -->
</body>

</html>